{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';// 引入 Link 用來導航\nimport axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[games,setGames]=useState([]);useEffect(()=>{const fetchGames=async()=>{try{const response=await axios.get(`${process.env.REACT_APP_API_URL}/api/games`,{headers:{'Cache-Control':'no-cache'}});console.log('獲取到的球局資料:',response.data);// 確認獲取到的數據\nsetGames(response.data);}catch(error){console.error('無法獲取球局',error);}};fetchGames();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u6240\\u6709\\u7403\\u5C40\"}),/*#__PURE__*/_jsxs(Link,{to:\"/create\",children:[/*#__PURE__*/_jsx(\"button\",{children:\"\\u5275\\u5EFA\\u7403\\u5C40\"}),\"  \"]}),games.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"\\u76EE\\u524D\\u6C92\\u6709\\u7403\\u5C40\"}):/*#__PURE__*/_jsx(\"ul\",{children:games.map(game=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u65E5\\u671F:\"}),\" \",new Date(game.date).toLocaleDateString(),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"\\u6642\\u9593:\"}),\" \",game.time,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"\\u7403\\u5834:\"}),\" \",game.course,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"\\u7403\\u8CC7:\"}),\" \",game.prices,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"\\u5099\\u8A3B:\"}),\" \",game.remarks||'無',\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:`/edit/${game._id}`,children:/*#__PURE__*/_jsx(\"button\",{children:\"\\u7DE8\\u8F2F\"})})]},game._id))})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","Link","axios","jsx","_jsx","jsxs","_jsxs","Home","games","setGames","fetchGames","response","get","process","env","REACT_APP_API_URL","headers","console","log","data","error","children","to","length","map","game","Date","date","toLocaleDateString","time","course","prices","remarks","_id"],"sources":["/Users/ivan/golfproject/golf-app/client/src/components/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';  // 引入 Link 用來導航\nimport axios from 'axios';\n\nconst Home = () => {\n  const [games, setGames] = useState([]);\n\n\n  useEffect(() => {\n    const fetchGames = async () => {\n      try {\n        const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/games`, { headers: { 'Cache-Control': 'no-cache' } });\n        console.log('獲取到的球局資料:', response.data); // 確認獲取到的數據\n        setGames(response.data);\n      } catch (error) {\n        console.error('無法獲取球局', error);\n      }\n    };\n    fetchGames();\n  }, []);\n\n  return (\n    <div>\n      <h1>所有球局</h1>\n      <Link to=\"/create\">\n        <button>創建球局</button>  {/* 導向到 /create 頁面 */}\n      </Link>\n\n      {games.length === 0 ? (\n        <p>目前沒有球局</p>\n      ) : (\n        <ul>\n          {games.map((game) => (\n            <li key={game._id}>\n              <strong>日期:</strong> {new Date(game.date).toLocaleDateString()} <br />\n              <strong>時間:</strong> {game.time} <br />\n              <strong>球場:</strong> {game.course} <br />\n              <strong>球資:</strong> {game.prices} <br />\n              <strong>備註:</strong> {game.remarks || '無'} <br />\n              <Link to={`/edit/${game._id}`}>\n                <button>編輯</button>\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CAAG;AAC1C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAGtCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACU,GAAG,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,YAAY,CAAE,CAAEC,OAAO,CAAE,CAAE,eAAe,CAAE,UAAW,CAAE,CAAC,CAAC,CAC5HC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEP,QAAQ,CAACQ,IAAI,CAAC,CAAE;AACzCV,QAAQ,CAACE,QAAQ,CAACQ,IAAI,CAAC,CACzB,CAAE,MAAOC,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAChC,CACF,CAAC,CACDV,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEJ,KAAA,QAAAe,QAAA,eACEjB,IAAA,OAAAiB,QAAA,CAAI,0BAAI,CAAI,CAAC,cACbf,KAAA,CAACL,IAAI,EAACqB,EAAE,CAAC,SAAS,CAAAD,QAAA,eAChBjB,IAAA,WAAAiB,QAAA,CAAQ,0BAAI,CAAQ,CAAC,KAAE,EACnB,CAAC,CAENb,KAAK,CAACe,MAAM,GAAK,CAAC,cACjBnB,IAAA,MAAAiB,QAAA,CAAG,sCAAM,CAAG,CAAC,cAEbjB,IAAA,OAAAiB,QAAA,CACGb,KAAK,CAACgB,GAAG,CAAEC,IAAI,eACdnB,KAAA,OAAAe,QAAA,eACEjB,IAAA,WAAAiB,QAAA,CAAQ,eAAG,CAAQ,CAAC,IAAC,CAAC,GAAI,CAAAK,IAAI,CAACD,IAAI,CAACE,IAAI,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAAC,GAAC,cAAAxB,IAAA,QAAK,CAAC,cACtEA,IAAA,WAAAiB,QAAA,CAAQ,eAAG,CAAQ,CAAC,IAAC,CAACI,IAAI,CAACI,IAAI,CAAC,GAAC,cAAAzB,IAAA,QAAK,CAAC,cACvCA,IAAA,WAAAiB,QAAA,CAAQ,eAAG,CAAQ,CAAC,IAAC,CAACI,IAAI,CAACK,MAAM,CAAC,GAAC,cAAA1B,IAAA,QAAK,CAAC,cACzCA,IAAA,WAAAiB,QAAA,CAAQ,eAAG,CAAQ,CAAC,IAAC,CAACI,IAAI,CAACM,MAAM,CAAC,GAAC,cAAA3B,IAAA,QAAK,CAAC,cACzCA,IAAA,WAAAiB,QAAA,CAAQ,eAAG,CAAQ,CAAC,IAAC,CAACI,IAAI,CAACO,OAAO,EAAI,GAAG,CAAC,GAAC,cAAA5B,IAAA,QAAK,CAAC,cACjDA,IAAA,CAACH,IAAI,EAACqB,EAAE,CAAE,SAASG,IAAI,CAACQ,GAAG,EAAG,CAAAZ,QAAA,cAC5BjB,IAAA,WAAAiB,QAAA,CAAQ,cAAE,CAAQ,CAAC,CACf,CAAC,GARAI,IAAI,CAACQ,GASV,CACL,CAAC,CACA,CACL,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}